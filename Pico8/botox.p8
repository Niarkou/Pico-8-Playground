pico-8 cartridge // http://www.pico-8.com
version 16
__lua__
player = {
 x=0,
 y=50,
 left=false,
 anim="def",
 run={f=1,t={12,70,66},spd=6}, 
 def={f=1,t={8},spd=0},
 jump={f=1,t={4},spd=0}
}

time = {
 ms = 0,
 s = 0,
 m = 0
}

function controls()
 player.anim="def"
 if (btn(0)) player.left=true
 if (btn(0) and player.x>0) then
 player.x -=1
 player.left=true
 player.anim="run"
 end
 if (btn(1) and player.x<96) then
 player.x +=1
 player.left=false
 player.anim="run"
 end
 if (btn(2) and player.y>40) then
 player.y -=1
 player.anim="jump"
 end 
 if (btn()==false and player.y>=40 and player.y<50) then
 player.y=50 
 player.anim="jump"
 end
  --if (btn(3)) player.y +=1 
end

function timemanager()
 time.ms += 1/30
 if (time.ms >= 1) then 
    time.s += 1
    time.ms = 0
 if (time.s >= 60) then
    time.m += 1
    time.s = 0
 end
 end
end

function _update()
 controls()
 timemanager()
end

function anim(anim)
 anim.f+=anim.spd/30
 if anim.f>=#anim.t+1 then
 anim.f=1
 end
 return anim.t[flr(anim.f)]
end

function anim_player()
 if (player.anim=="def") then
 return anim(player.def)
 elseif (player.anim=="run") then
 return anim(player.run)
 elseif (player.anim=="jump") then
 return anim(player.jump)
 end
end

function light(f,x,y,col)
 for i=0,15 do
 pal(i,col) 
 end
 spr(f,x,y)
 pale()
end

function _init()
 cls()
 pale()
end

function pale()
 pal()
 palt(8, true)
 palt(0, false)
 --pal(4,7)
 --pal(15,4)
end

function _draw()
 cls()
 map(0,0,0,0,32,32)
 spr(anim_player(),player.x,player.y,4,4,player.left)
 print(time.m.." m "..time.s.." s "..time.ms,3,3,0) 
 end
__gfx__
88888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
88888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
88888888888888888888888888888888888888888888888880088888008888888888888888888888888888888888888888888888888888888888888888888888
88888888888888888888888888888888888888888888888804088880f08888888888888888888888888888888888888888888888888888888888888888888888
8888888888888888888888888888888888888888888888804e08880fe08888888888888888888888888888888888888888888888888888888888888888888888
888888888888888888888888888888888888888888888880ee00000ee08888888888888888888888888888888888888888888888888888888888888888888888
888888888888888888888888888888888888888888800080ee04444ee08888888888888888888888888888888888888888888888888888888888888888888888
8888888888888888888888888888888888888888880fff0444444444440888888888888888888888888888888888888888888888888888888888888888888888
888888888888888888880088888008888888888888044f0444444444444088888888888888888888888800888880088888888888888888888888008888800888
888888888888888888804088880f088888888888880440444404444044408888888888888888888888804088880f0888888888888888888888804088880f0888
88888888888888888804e08880fe08888888888888044044440444404444088888888888888888888804e08880fe088888888800088888888804e08880fe0888
8888888888888888880ee00000ee0888888888888804404444444044444408888888888888888888880ee00000ee0888888880f440888888880ee00000ee0888
8888888888888888880ee04444ee0888888888888804404444440204444408888888888888888888880ee04444ee0888888880f440888888880ee04444ee0888
88888888888888888044444444444088888888888804440444444444444088888888888888888888804444444444408888880444088888888044444444444088
88888888888888888044444444444408888888888804444004444444400888888888888888888888804444444444440888880444088888888044444444444408
88888888888888880444404444044408888888888880444400004440088888888888888888888888044440444404440888800440088888880444404444044408
8888888888888888044440444404444088888888888804444444444400888888888888888888888804444044440444408880f440888888880444404444044440
888888888888888804444044040444408888888888888044444444444408888888888888888888880444404404044440880f4400888888880444404404044440
888888888888888804444440204444408888888888888804444444444408888888888888888888880444444020444440880f4408888888880444444020444440
88888888888888888044444444444408888888888888880444444444440888888888888888888888804444444444440880f44088888888800044444444444408
88888888888888888800444444440088888888888888888044444444440888888888888888888888880044444444008880444000000000004400444444400088
88888880008888888800000444408888888888880008888044444444440888888888888000888888880000044440888880044440ff0444444440000444408888
8888880f44088888004444444440888888888880f440088044444444440888888888880f44088888004444444440888888044444444444444444444444408888
8888880f44088880ff4444444440888888888880f444400044444444440888888888880f44088880ff4444444440888888044444444444444444444444008888
8888880f4408880f4444444444408888888888880444444044444444440888888888880f4408880f444444444440888888004444444444444444444444088888
888888804440880f444444444440888888888888800ff4404444444444088888888888804440880f444444444440888888804444444444444444444444088888
88888880444080f444444444444088888888888888800ff0444400444408888888888880444080f4444444444440888888804404444404044444444444088888
88888888044400444440444404008888888888888888800044408804440888888888888804440044444044440400888888044040000000000000044404408888
888888880ff44044444404440000888888888888888888804440880444088888888888880ff44044444404440000888880044044088888888888804404400888
8888888880f4404444440f4400f08888888888888888880f4440880444f088888888888880f4404444440f4400f088880f4400f088888888888888040044f088
88888888880f4044444440ff00f0888888888888888880fffff0880fffff088888888888880f4044444440ff00f088880ff04f088888888888888800ff0fff08
88888888888000000000000000008888888888888888800000088880000008888888888888800000000000000000888800000008888888888888888800000008
77777777777777778888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
77777777777777778888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
77777777777777778888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
77777777777777778888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
77777777777777778888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
77777777777777778888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
77777777777777778888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
77777777777777778888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
77777777777777778888888888888888888800888880088888888888888888888888008888800888888888888888888888888888888888888888888888888888
7777777777777777888888888888888888804088880f0888888888888888888888804088880f0888888888888888888888888888888888888888888888888888
777777777777777788888800088888888804e08880fe088888888800088888888804e08880fe0888888888888888888888888888888888888888888888888888
7777777777777777888880f440888888880ee00000ee0888888880f440888888880ee00000ee0888888888888888888888888888888888888888888888888888
7777777777777777888880f440888888880ee04444ee0888888880f440888888880ee04444ee0888888888888888888888888888888888888888888888888888
77777777777777778888044408888888804444444444408888880444088888888044444444444088888888888888888888888888888888888888888888888888
77777777777777778888044408888888804444444444440888880444088888888044444444444408888888888888888888888888888888888888888888888888
77777777777777778880044008888888044440444404440888800440088888880444404444044408888888888888888888888888888888888888888888888888
00000000000000008880f4408888888804444044440444408880f440888888880444404444044440888888888888888888888888888888888888888888888888
0000000000000000880f4400888888880444404404044440880f4400888888880444404404044440888888888888888888888888888888888888888888888888
0000000000000000880f4408888888880444444020444440880f4408888888880444444020444440888888888888888888888888888888888888888888888888
000000000000000080f4408888888880004444444444440880f44088888888800044444444444408888888888888888888888888888888888888888888888888
00000000000000008044400000000000440044444440008880444000000000004400444444400088888888888888888888888888888888888888888888888888
000000000000000080044440ff044444444000044440888880044440ff0444444440000444408888888888888888888888888888888888888888888888888888
00000000000000008804444444444444444444444440888888044444444444444444444444408888888888888888888888888888888888888888888888888888
00000000000000008804444444444444444444444400888888044444444444444444444444008888888888888888888888888888888888888888888888888888
00000000000000008800444444444444444444444408888888004444444444444444444444088888888888888888888888888888888888888888888888888888
00000000000000008880444444444444444444444408888888804444444444444444444444088888888888888888888888888888888888888888888888888888
00000000000000008880444444440404444444444408888888804444444404044444444444088888888888888888888888888888888888888888888888888888
00000000000000008880444000000000000000444408888888804440000000000000044444088888888888888888888888888888888888888888888888888888
000000000000000088880f4088888888888880444f08888888804408888888888888800444088888888888888888888888888888888888888888888888888888
000000000000000088880fff0888888888880ffff0888888880f4408888888888888880444f08888888888888888888888888888888888888888888888888888
000000000000000088888000888888888888800000888888880ffff08888888888888880fff08888888888888888888888888888888888888888888888888888
00000000000000008888888888888888888888888888888888000008888888888888888800008888888888888888888888888888888888888888888888888888
15151515151515158888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
00000000000000008888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
04040404040404048888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
00000000000000008888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
04040404040404048888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
00000000000000008888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
04040404040404048888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
00000000000000008888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
04040404040404048888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
00000000000000008888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
04040404040404048888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
00000000000000008888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
04040404040404048888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
00000000000000008888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
00000000000000008888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
00000000000000008888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
00000000000000008888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
00000000000000008888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
00000000000000008888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
00000000000000008888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
00000000000000008888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
00000000000000008888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
00000000000000008888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
00000000000000008888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
00000000000000008888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
00000000000000008888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
00000000000000008888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
00000000000000008888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
00000000000000008888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
00000000000000008888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
00000000000000008888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
00000000000000008888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
__map__
4041404140415141514151515151515151515151515151515151515151515141515151515051515151515151515151404040404040404040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5051505150515151515151515151515151515151515151515151515151515051515151515151515151515151515151404040404040404040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4040404151515151515151515151515151515151515151515151515151515151515151515151515151515151515151404040404040404040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5051505150515051515150515151515151515151515151515151515151515151515151515151515151515151515151404040404040404040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4041404151515141515151515151515151515151515151515151515151515151515151515151515151515151515151404040404040404040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5051505150515151515150515151515151515150515151515151515151515151515151515151515151515151515151404040404040404040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4041404151515151515151415151515151515151515151515151515151515151515151515151515151515151515151404040404040404040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5051505150515051505151515151515151515151515151514051515151515151515151515151515151515151515151404040404040404040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5151515151515151515151515151515151515151515151515151515151515151515151515151515151515151515151404040404040404040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5151515151515151515151515151515151515151515151515151515151515151515151515151515151515151515151404040404040404040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5151515151515151515151515151515151515151515151515151515151515151515151515151515151515151515151404040404040404040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5151515151515151515151515151515151515151515151515151515151515151515151515151515151515151515151404040404040404040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5151515151515151515151515151515151515151515151515151515151515151515151515151515151515151515151404040404040404040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5151515151515151515151515151515151515151515151515151515151515151515151515151515151515151515151404040404040404040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5151515151515151515151515151515151515151515151515151515151515151515151515151515151515151515151404040404040404040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5151515151515151515151515151515151515151515151515151515151515151515151515151515151515151515151404040404040404040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5151515151515151515151515151515151515151515151515151515151515151515151515151515151515151515151404040404040404040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5151515151515151515151515151515151515151515151515151515151515141515151515151515151515151515151404040404040404040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5151515151515151515151515151515151515151515151515151515151515051515151515151515151515151515151404040404040404040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5151515151515151515151515151515151515151515151515151515151515141515151515151515151515151515151404040404040404040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5151515151515151515151515151515151515151515151515151515151515051515151515151515151515151515151404040404040404040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5151515151515151515151515151515151515151515151515151515151515151515151515151515151515151515151404040404040404040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5151515151515151515151515151515151515151515151515151515151515051515151515151515151515151515151404040404040404040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5151515151515151515151515151515151515151515151515151515151515151515151515151515151515151515151404040404040404040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5151515151515151515151515151515151515151515151515151515151515051515151515151515151515151515151404040404040404040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5151515151515151515151515151515151515151515151515151515151515151515151515151515151515151515151404040404040404040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5151515151515151515151515151515151515151515151515151515151515151515151515151515151515151515151404040404040404040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5151515151515151515151515151515151515151515151515151515151515151515151515151515151515151515151404040404040404040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5151515151515151515151515151515151515151515151515151515151515151515151515151515151515151515151404040404040404040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5151515151515151515151515151515151515151515151515151515151515151515151515151515151515151515151404040404040404040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5141515151515151515151515151515151515151515151515151515151515141515151515151515151515151515151404040404040404000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5051515151515151515151515151515151515151515151515151515151515051415151515151515151515151515151404040404040404000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
